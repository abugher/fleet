---
- hosts:                neuron
  name:                 'install packages on neuron'
  gather_facts:         False
  remote_user:          ansible
  become:               yes
  become_method:        sudo
  tasks:

  - name:               'install packages on neuron'
    apt:
      name:             "{{ item }}"
      state:            'present'
    with_items:
      - 'nginx'
      - 'dokuwiki'
      - 'php5-fpm'
      - 'smokeping'
      - 'dnsmasq'
      - 'cryptsetup'
      - 'transmission-daemon'
      - 'nagios-plugins-basic'          # monitor /storage
      - 'libpam-krb5'
      - 'python-usb'
      - 'python-setuptools'
      - 'git'
      - 'snmpd'
      - 'libncurses-dev'                # for nethack
      - 'byacc'                         # for nethack
      - 'flex'                          # for nethack
      - 'isc-dhcp-server'
      - 'tftpd-hpa'
      - 'debian-installer-8-netboot-i386'
      - 'debian-installer-8-netboot-amd64'
      - 'pxelinux'
  - name:               'remove packages on neuron'
    apt:
      name:             "{{ item }}"
      state:            'absent'
    with_items:
      - 'apache2'
      - 'apache2-mpm-worker'
      - 'apache2-utils'
      - 'apache2.2-bin'
      - 'apache2.2-common'

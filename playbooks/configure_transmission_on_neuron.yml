---
- hosts:                neuron
  name:                 'configure transmission on neuron'
  gather_facts:         False
  remote_user:          ansible
  become:               yes
  become_method:        sudo
  tasks:

  - name:               'settings.json'
    copy:
      src:              '~/code/sensitive/conf/transmission-daemon/neuron/settings.json'
      dest:             '/etc/transmission-daemon/settings.json'
      owner:            'debian-transmission'
      group:            'debian-transmission'
      mode:             '0600'
  - name:               'update_transmission_blocklist_cronjob'
    copy:
      src:              '~/code/sensitive/bin/update_transmission_blocklist_cronjob'
      dest:             '/usr/local/bin/update_transmission_blocklist_cronjob'
      mode:             '0755'
      owner:            'root'
      group:            'root'
  - name:               'update_transmission_blocklist_now'
    copy:
      src:              '~/code/sensitive/bin/update_transmission_blocklist_now'
      dest:             '/usr/local/bin/update_transmission_blocklist_now'
      mode:             '0755'
      owner:            'root'
      group:            'root'
  - name:               'cron.d/update_transmission_blocklist'
    copy:
      src:              '~/code/sensitive/cron.d/neuron/update_transmission_blocklist'
      dest:             '/etc/cron.d/update_transmission_blocklist'
      mode:             '0644'
      owner:            'root'
      group:            'root'
  - name:               'update_transmission_blocklist.log'
    file:
      path:             '/var/log/update_transmission_blocklist.log'
      state:            'touch'
      owner:            'pi'
      group:            'pi'
      mode:             '0644'
  - name:               'update_transmission_blocklist.ret'
    file:
      path:             '/var/log/update_transmission_blocklist.ret'
      state:            'touch'
      owner:            'pi'
      group:            'pi'
      mode:             '0644'

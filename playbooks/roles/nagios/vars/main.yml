---
install_packages:
  - 'nagios3'
sync_dirs:
  - src:                '~/code/fleet/conf/nagios/synapse/nagios3/'
    dest:               '/etc/nagios3/'
    delete:             'yes'
install_files:
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/fleet/bin/check_flexget_execute'
    dest:               '/usr/local/bin/check_flexget_execute'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/fleet/bin/check_debian_update'
    dest:               '/usr/local/bin/check_debian_update'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/fleet/bin/check_flexget_execute'
    dest:               '/usr/local/bin/check_flexget_execute'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/fleet/bin/check_flexget_vacuum'
    dest:               '/usr/local/bin/check_flexget_vacuum'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/fleet/bin/check_mplayer'
    dest:               '/usr/local/bin/check_mplayer'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/fleet/bin/check_pianobar'
    dest:               '/usr/local/bin/check_pianobar'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/fleet/bin/check_transmission_blocklist_update'
    dest:               '/usr/local/bin/check_transmission_blocklist_update'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/fleet/bin/check_transmission'
    dest:               '/usr/local/bin/check_transmission'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/fleet/bin/check_tor'
    dest:               '/usr/local/bin/check_tor'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/fleet/bin/check_dns_record'
    dest:               '/usr/local/bin/check_dns_record'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/fleet/bin/check_temper'
    dest:               '/usr/local/bin/check_temper'
  - owner:              'nagios'
    group:              'nagios'
    mode:               '0600'
    src:                '~/code/sensitive/conf/ssh_keys/nagios@synapse.id_rsa'
    dest:               '~nagios/.ssh/id_rsa'
  - owner:              'nagios'
    group:              'nagios'
    mode:               '0644'
    src:                '~/code/fleet/conf/ssh_keys/nagios@synapse.id_rsa.pub'
    dest:               '~nagios/.ssh/id_rsa.pub'
  - owner:              'nagios'
    group:              'nagios'
    mode:               '0600'
    src:                '~/code/fleet/conf/ssh_keys/nagios@synapse.known_hosts'
    dest:               '~nagios/.ssh/known_hosts'
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                '~/code/fleet/conf/nagios/synapse/logos/'
    dest:               '/usr/share/nagios3/htdocs/images/logos/custom/'
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                '~/code/sensitive/conf/nagios/synapse/nagios3/htpasswd.users'
    dest:               '/etc/nagios3/htpasswd.users'
enable_services:
  - 'nagios3'
start_services:
  - 'nagios3'
restart_services:
  - 'nagios3'

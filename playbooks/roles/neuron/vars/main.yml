---
users:
  - 'rachel-phone'
  - 'aaron-phone'
system_users:
  - 'escrow'
  - 'cryptkeeper'
groups:
  - 'rachel-phone'
  - 'aaron-phone'
system_groups:
  - 'escrow'
  - 'cryptkeeper'
create_files:
  - path:               '/usr/share/nginx/www/private'
    owner:              'root'
    group:              'www-data'
    mode:               '0750'
    state:              'directory'
  - path:               '/usr/share/nginx/www/plaintext'
    owner:              'root'
    group:              'root'
    mode:               '0755'
    state:              'directory'
  - path:               '/home/pi/.flexget'
    state:              'directory'
    owner:              'pi'
    group:              'pi'
    mode:               '0755'
initialize_files:
  - dest:               '/var/log/flexget_execute.log'
    owner:              'pi'
    group:              'pi'
    mode:               '0644'
  - dest:               '/var/log/flexget_execute.ret'
    owner:              'pi'
    group:              'pi'
    mode:               '0644'
  - dest:               '/var/log/flexget_vacuum.log'
    owner:              'pi'
    group:              'pi'
    mode:               '0644'
  - dest:               '/var/log/flexget_vacuum.ret'
    owner:              'pi'
    group:              'pi'
    mode:               '0644'
  - dest:               '/var/log/flexget_failed_clear.log'
    owner:              'pi'
    group:              'pi'
    mode:               '0644'
  - dest:               '/var/log/flexget_failed_clear.ret'
    owner:              'pi'
    group:              'pi'
    mode:               '0644'
install_files:
  - owner:              'root'
    group:              'www-data'
    mode:               '0640'
    src:                '~/code/fleet/conf/ssl/neuronpointer.net/chain.pem'
    dest:               '/etc/nginx/neuron.crt'
  - owner:              'root'
    group:              'www-data'
    mode:               '0640'
    src:                '~/code/sensitive/conf/ssl/neuronpointer.net/key.pem'
    dest:               '/etc/nginx/neuron.key'
  - owner:              'root'
    group:              'www-data'
    mode:               '0640'
    src:                '~/code/sensitive/conf/nginx/neuron/htpasswd'
    dest:               '/etc/nginx/htpasswd'
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "~/code/fleet/conf/nginx/{{ inventory_hostname }}/wiki"
    dest:               "/etc/nginx/sites-available/wiki"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "~/code/fleet/conf/nginx/{{ inventory_hostname }}/wiki.ssl"
    dest:               "/etc/nginx/sites-available/wiki.ssl"  
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "~/code/fleet/conf/nginx/{{ inventory_hostname }}/transmission"
    dest:               "/etc/nginx/sites-available/transmission"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "~/code/fleet/conf/nginx/{{ inventory_hostname }}/transmission.ssl"
    dest:               "/etc/nginx/sites-available/transmission.ssl"  
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "~/code/fleet/conf/nginx/{{ inventory_hostname }}/smokeping"
    dest:               "/etc/nginx/sites-available/smokeping"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "~/code/fleet/conf/nginx/{{ inventory_hostname }}/smokeping.ssl"
    dest:               "/etc/nginx/sites-available/smokeping.ssl"  
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "~/code/fleet/conf/nginx/{{ inventory_hostname }}/remote"
    dest:               "/etc/nginx/sites-available/remote"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "~/code/fleet/conf/nginx/{{ inventory_hostname }}/remote.ssl"
    dest:               "/etc/nginx/sites-available/remote.ssl"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "~/code/fleet/conf/nginx/{{ inventory_hostname }}/nagios"
    dest:               "/etc/nginx/sites-available/nagios"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "~/code/fleet/conf/nginx/{{ inventory_hostname }}/nagios.ssl"
    dest:               "/etc/nginx/sites-available/nagios.ssl"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                '~/code/fleet/conf/nginx/neuron/preseed.cfg'
    dest:               '/usr/share/nginx/www/plaintext/preseed.cfg'
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                '~/code/fleet/conf/nginx/neuron/index.html'
    dest:               '/usr/share/nginx/www/index.html'
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                '~/code/fleet/conf/network/neuron/interfaces'
    dest:               '/etc/network/interfaces'
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                '~/code/fleet/conf/hostname.neuron'
    dest:               '/etc/hostname'
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                '~/code/fleet/conf/fstab/neuron/fstab'
    dest:               '/etc/fstab'
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                '~/code/fleet/cron.d/neuron/chown_pictures'
    dest:               '/etc/cron.d/chown_pictures'
  - owner:              'pi'
    group:              'pi'
    mode:               '0644'
    src:                '~/code/sensitive/conf/flexget/config.yml'
    dest:               '/home/pi/.flexget/config.yml'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/sensitive/bin/flexget_execute_cronjob'
    dest:               '/usr/local/bin/flexget_execute_cronjob'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/sensitive/bin/flexget_execute_now'
    dest:               '/usr/local/bin/flexget_execute_now'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/sensitive/bin/flexget_failed_clear_cronjob'
    dest:               '/usr/local/bin/flexget_failed_clear_cronjob'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/sensitive/bin/flexget_failed_clear_now'
    dest:               '/usr/local/bin/flexget_failed_clear_now'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/sensitive/bin/flexget_vacuum_cronjob'
    dest:               '/usr/local/bin/flexget_vacuum_cronjob'
  - owner:              'root'
    group:              'root'
    mode:               '0755'
    src:                '~/code/sensitive/bin/flexget_vacuum_now'
    dest:               '/usr/local/bin/flexget_vacuum_now'
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                '~/code/sensitive/cron.d/neuron/flexget_vacuum'
    dest:               '/etc/cron.d/flexget_vacuum'
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                '~/code/sensitive/cron.d/neuron/flexget_execute'
    dest:               '/etc/cron.d/flexget_execute'
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                '~/code/sensitive/cron.d/neuron/flexget_failed_clear'
    dest:               '/etc/cron.d/flexget_failed_clear'
restart_services:
  - 'hostname.sh'
  - 'nginx'
disable_services:
  - 'dhcpcd'
dot_users:
  - 'pi'
symlinks:
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                '/storage/aaron-phone/live/legacy/DCIM/Camera'
    dest:               '/usr/share/nginx/www/private/pictures'
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "/etc/nginx/sites-available/wiki"
    dest:               "/etc/nginx/sites-enabled/wiki"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "/etc/nginx/sites-available/wiki.ssl"
    dest:               "/etc/nginx/sites-enabled/wiki.ssl"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "/etc/nginx/sites-available/transmission"
    dest:               "/etc/nginx/sites-enabled/transmission"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "/etc/nginx/sites-available/transmission.ssl"
    dest:               "/etc/nginx/sites-enabled/transmission.ssl"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "/etc/nginx/sites-available/smokeping"
    dest:               "/etc/nginx/sites-enabled/smokeping"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "/etc/nginx/sites-available/smokeping.ssl"
    dest:               "/etc/nginx/sites-enabled/smokeping.ssl"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "/etc/nginx/sites-available/remote"
    dest:               "/etc/nginx/sites-enabled/remote"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "/etc/nginx/sites-available/remote.ssl"
    dest:               "/etc/nginx/sites-enabled/remote.ssl"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "/etc/nginx/sites-available/nagios"
    dest:               "/etc/nginx/sites-enabled/nagios"
  - owner:              'root'
    group:              'root'
    mode:               '0644'
    src:                "/etc/nginx/sites-available/nagios.ssl"
    dest:               "/etc/nginx/sites-enabled/nagios.ssl"


---
- hosts:                neuron
  name:                 'configure flexget on neuron'
  gather_facts:         False
  remote_user:          ansible
  become:               yes
  become_method:        sudo
  tasks:

  - name:               'install .flexget'
    file:
      path:             '/home/pi/.flexget'
      state:            'directory'
      owner:            'pi'
      group:            'pi'
      mode:             '0755'
  - name:               'install config.yml'
    copy:
      owner:            'pi'
      group:            'pi'
      mode:             '0644'
      src:              '~/code/sensitive/conf/flexget/config.yml'
      dest:             '/home/pi/.flexget/config.yml'
  - name:               'install flexget_execute_cronjob'
    copy:
      owner:            'root'
      group:            'root'
      mode:             0755
      src:              '~/code/sensitive/bin/flexget_execute_cronjob'
      dest:             '/usr/local/bin/flexget_execute_cronjob'
  - name:               'install flexget_execute_now_cronjob'
    copy:
      owner:            'root'
      group:            'root'
      mode:             '0755'
      src:              '~/code/sensitive/bin/flexget_execute_now_cronjob'
      dest:             '/usr/local/bin/flexget_execute_now_cronjob'
  - name:               'install flexget_failed_clear_cronjob'
    copy:
      owner:            'root'
      group:            'root'
      mode:             '0755'
      src:              '~/code/sensitive/bin/flexget_failed_clear_cronjob'
      dest:             '/usr/local/bin/flexget_failed_clear_cronjob'
  - name:               'install flexget_failed_clear_now_cronjob'
    copy:
      owner:            'root'
      group:            'root'
      mode:             '0755'
      src:              '~/code/sensitive/bin/flexget_failed_clear_now_cronjob'
      dest:             '/usr/local/bin/flexget_failed_clear_now_cronjob'
  - name:               'install flexget_vacuum_cronjob'
    copy:
      owner:            'root'
      group:            'root'
      mode:             '0755'
      src:              '~/code/sensitive/bin/flexget_vacuum_cronjob'
      dest:             '/usr/local/bin/flexget_vacuum_cronjob'
  - name:               'install flexget_vacuum_now_cronjob'
    copy:
      owner:            'root'
      group:            'root'
      mode:             '0755'
      src:              '~/code/sensitive/bin/flexget_vacuum_now_cronjob'
      dest:             '/usr/local/bin/flexget_vacuum_now_cronjob'
  - name:               'install flexget_vacuum'
    copy:
      owner:            'root'
      group:            'root'
      mode:             '0644'
      src:              '~/code/sensitive/cron.d/flexget_vacuum'
      dest:             '/etc/cron.d/flexget_vacuum'
  - name:               'install flexget_execute'
    copy:
      owner:            'root'
      group:            'root'
      mode:             '0644'
      src:              '~/code/sensitive/cron.d/flexget_execute'
      dest:             '/etc/cron.d/flexget_execute'
  - name:               'install flexget_failed_clear'
    copy:
      owner:            'root'
      group:            'root'
      mode:             '0644'
      src:              '~/code/sensitive/cron.d/flexget_failed_clear'
      dest:             '/etc/cron.d/flexget_failed_clear'
  - name:               'touch flexget_execute.log'
    file:
      path:             '/var/log/flexget_execute.log'
      state:            'touch'
      owner:            'pi'
      group:            'pi'
      mode:             '0644'
  - name:               'touch flexget_execute.ret'
    file:
      path:             '/var/log/flexget_execute.ret'
      state:            'touch'
      owner:            'pi'
      group:            'pi'
      mode:             '0644'
  - name:               'touch flexget_vacuum.log'
    file:
      path:             '/var/log/flexget_vacuum.log'
      state:            'touch'
      owner:            'pi'
      group:            'pi'
      mode:             '0644'
  - name:               'touch flexget_vacuum.ret'
    file:
      path:             '/var/log/flexget_vacuum.ret'
      state:            'touch'
      owner:            'pi'
      group:            'pi'
      mode:             '0644'
  - name:               'touch flexget_failed_clear.log'
    file:
      path:             '/var/log/flexget_failed_clear.log'
      state:            'touch'
      owner:            'pi'
      group:            'pi'
      mode:             '0644'
  - name:               'touch flexget_failed_clear.ret'
    file:
      path:             '/var/log/flexget_failed_clear.ret'
      state:            'touch'
      owner:            'pi'
      group:            'pi'
      mode:             '0644'

